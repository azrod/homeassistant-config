# lovelace_gen

  # CONFIGURATION TV
  {% set TV = [
    [{"entity":"script.group_tv_on_off","name":"ON/OFF Tous","icon":"play-box-outline"}],
    [{"entity":"script.sound_bar_on_off","name":"ON/OFF Barre de son","icon":"volume-high"},
     {"entity":"script.tv_on_off","name":"ON/OFF TV","icon":"television-classic"}],
    [{"entity":"script.sound_bar_vol_up","name":"Volume Plus","icon":"volume-plus"},
     {"entity":"script.sound_bar_vol_down","name":"Volume moins","icon":"volume-minus"}],
    [{"entity":"script.hdmi_b2","name":"HDMI PC","icon":"volume-plus"},
     {"entity":"script.hdmi_b4","name":"HDMI Android TV","icon":"volume-minus"}]
    ]%}

type: custom:layout-card
cards:
  - type: vertical-stack
    cards:
      - type: entities
        show_header_toggle: false
        title: Salon
        entities:
          - type: section
            label: Capteurs
          - entity: sensor.zigate_00158d0002c99bd4_temperature
            type: custom:multiple-entity-row
            name: "Température"
            primary:
              entity: sensor.temperature_salon
              name: false
          - entity: sensor.zigate_00158d0002c99bd4_humidity
            type: custom:multiple-entity-row
            name: "Humidité"
          - entity: sensor.luminosite_salon
            type: custom:multiple-entity-row
            name: "Luminosité"
            primary: 
              entity: sensor.zigate_00158d00032bd376_luminosity
              name: false 
          - entity: binary_sensor.zigate_00158d00032bd376_presence
            type: custom:multiple-entity-row
            name: "IR Salon"
            info:
              entity: zigate.00158d00032bd376
              attribute: battery_level
              name: Batterie
              unit: '%'
          - type: section
            label: Eclairages
          - !include
            - templates/light.yaml
            - entity: group.salon
              name: Lampes Salon
              dimmable: false
          - !include
            - templates/light.yaml
            - entity: light.ledstrip
              name: Bande LED
              dimmable: true
          - !include
            - templates/light.yaml
            - entity: light.zigate_ccccccfffed80154_1
              name: Lampe salon 1
              dimmable: true
          - !include
            - templates/light.yaml
            - entity: light.zigate_ccccccfffed6a188_1
              name: Lampe salon 2
              dimmable: true
          - !include
            - templates/light.yaml
            - entity: light.zigate_ccccccfffeda1b92_1
              name: Lampe salon 3
              dimmable: true
          - !include
            - templates/light.yaml
            - entity: light.totem_light
              name: Lampe lanterne
              dimmable: false
          - type: call-service
            service: automation.trigger
            entity: automation.btn_far_cry_mode
            name: Mode FarCry
          - type: custom:slider-entity-row
            entity: input_select.ambiance_salon
            name: "Ambiance"

  - type: vertical-stack
    cards:
      - type: "custom:button-card"
        color_type: icon
        entity: device_tracker.c0_41_f6_93_75_a9
        layout: icon_label
        show_state: false
        show_label: true
        show_name: false
        tap_action:
          action: more-info
        label: "TV"
        state:
          - value: "home"
            color: green
            icon: mdi:television
          - value: "not_home"
            color: red
            icon: mdi:television-off
          - operator: default
            color: grey
            icon: mdi:television
      {% for T in TV %}
      - type: horizontal-stack
        cards:
          {% for L in T %}
          - type: "custom:button-card"
            entity: {{ L.entity }}
            color_type: card
            color: blue
            show_icon: false
            size: 10%
            name: {{ L.name }}
          {% endfor %}
      {% endfor %}
      - type: horizontal-stack
        cards:
          - type: "custom:button-card"
            action: call-service
            service: switch.turn_on
            service_data: switch.wake_on_lan
            entity: switch.wake_on_lan
            color_type: card
            color: blue
            show_icon: false
            size: 10%
            name: ON PC
  
  - type: vertical-stack
    cards:
      - type: entities
        show_header_toggle: false
        title: Cuisine
        entities:
          - type: section
            label: Contrôle
          - entity: switch.prise1_relay
            type: custom:multiple-entity-row
            name: "Friteuse"
          - type: section
            label: Capteurs
          - entity: binary_sensor.zigate_00158d0002e214e0_onoff
            type: custom:multiple-entity-row
            name: "Porte Cellier"
            info:
              entity: zigate.00158d0002e214e0
              attribute: battery_level
              name: Batterie
              unit: '%'
          - entity: binary_sensor.zigate_00158d000283072c_zone_status
            type: custom:multiple-entity-row
            name: "Fuite machine à laver"
            info:
              entity: zigate.00158d000283072c
              attribute: battery_level
              name: Batterie
              unit: '%'
          - entity: zigate.00158d0002c770dc
            type: custom:multiple-entity-row
            name: "Cellier"
            icon: mdi:thermometer
            hide_state: true
            primary:
              entity: sensor.zigate_00158d0002c770dc_temperature
              name: Température
            secondary:
              entity: sensor.zigate_00158d0002c770dc_humidity
              name: Humidité
            info:
              entity: zigate.00158d0002c770dc
              attribute: battery_level
              name: Batterie
              unit: '%'
          # - entity: zigate.00158d0002b72523
          #   type: custom:multiple-entity-row
          #   name: "Frigo"
          #   icon: mdi:thermometer
          #   hide_state: true
          #   primary:
          #     entity: sensor.zigate_00158d0002b72523_temperature
          #     name: Température
          #   secondary:
          #     entity: sensor.zigate_00158d0002b72523_humidity
          #     name: Humidité
          #   info:
          #     entity: zigate.00158d0002b72523
          #     attribute: battery_level
          #     name: Batterie
          #     unit: '%'
          - entity: zigate.00158d000227f221
            type: custom:multiple-entity-row
            name: "Cave a vin"
            icon: mdi:thermometer
            hide_state: true
            primary:
              entity: sensor.zigate_00158d000227f221_temperature
              name: Température
            secondary:
              entity: sensor.zigate_00158d000227f221_humidity
              name: Humidité
            info:
              entity: zigate.00158d000227f221
              attribute: battery_level
              name: Batterie
              unit: '%'
          - type: section
            label: Notifications
          - entity: automation.notif_temperature_frigo
            type: custom:multiple-entity-row
            name: "Alerte temperature frigo"
          - entity: automation.notif_temperature_congelateur
            type: custom:multiple-entity-row
            name: "Alerte temperature congélateur"
          - entity: automation.notif_sonde_fuite_machinealaver
            type: custom:multiple-entity-row
            name: "Alerte fuite machine a laver"


{% set entity_temperature = [
                          {"entity":"sensor.zigate_00158d0002c770dc_temperature","name":"Cellier","environnement":"interieur"},
                          {"entity":"sensor.oregontemphygro_2dfe_temp","name":"Congélateur","environnement":"congelateur"},
                          {"entity":"sensor.zigate_00158d0002b72523_temperature","name":"Frigo","environnement":"frigo"},
                          {"entity":"sensor.zigate_00158d000227f221_temperature","name":"Cave a vin","environnement":"caveavin"}
]%}

{% set entity_humidity = [
                          {"entity":"sensor.zigate_00158d0002c770dc_humidity","name":"Cellier","environnement":"interieur"},
                          {"entity":"sensor.oregontemphygro_2dfe_hum","name":"Congélateur","environnement":"congelateur"},
                          {"entity":"sensor.zigate_00158d0002b72523_humidity","name":"Frigo","environnement":"frigo"},
                          {"entity":"sensor.zigate_00158d000227f221_humidity","name":"Cave a vin","environnement":"caveavin"}
]%}